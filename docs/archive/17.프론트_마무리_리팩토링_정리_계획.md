# 프론트 마무리 리팩토링 정리 계획

## 배경/문제
- dev 전용 컴포넌트가 루트 라우팅에 있어 파일 관리가 복잡해질 수 있다.
- 공통 i18n 키로 옮길 여지가 남아 있어 중복 관리가 발생한다.
- EntryCard/ThreadEditor 관련 타입이 각 파일에 흩어져 재사용성이 낮다.
- 캐시 유틸이 feed 중심이라 detail 캐시 업데이트에는 여전히 중복이 존재한다.

## 목표
- dev 전용 페이지를 분리해 프로덕션 코드와 구분한다.
- i18n 공통 키 이관을 마무리해 중복을 줄인다.
- EntryCard/ThreadEditor props 타입을 공통 모듈로 정리한다.
- 캐시 유틸을 확장해 detail 캐시 업데이트도 공통화한다.

## 범위
- 포함
  - ComponentLabPage dev 폴더 분리
  - 공통 i18n 키 이관 확대
  - EntryCard/ThreadEditor props 타입 모듈화
  - threadCache 유틸 확장
- 제외
  - UI 전면 리디자인
  - 백엔드 API 변경
  - 상태 관리 교체

## 현재 동작 정리
- ComponentLabPage가 일반 routes 아래에 위치.
- 일부 공통 키가 home/thread에 중복 존재.
- EntryCard/ThreadEditor 타입 정의가 각 파일에 위치.
- threadCache는 feed 업데이트 중심으로만 구성됨.

## 개선 방향
- dev 전용 라우트를 분리해 파일 구조를 명확히 한다.
- 공통 i18n 키를 common으로 이관하여 단일화한다.
- props 타입은 공유 파일로 이동해 재사용성을 높인다.
- detail 캐시 업데이트도 유틸로 제공한다.

## 단계별 계획
- Phase 1: dev 폴더 분리
  - ComponentLabPage를 dev 폴더로 이동
  - 라우터 경로 참조 수정
  - 완료 기준: DEV 환경에서만 접근 가능
- Phase 2: i18n 키 이관 확대
  - home/thread 공통 키를 common으로 이동
  - 사용부 교체
  - 완료 기준: 공통 키 중복 제거
- Phase 3: props 타입 모듈화
  - EntryCard/ThreadEditor 타입 공통 모듈로 이동
  - 컴포넌트/사용부에서 import 변경
  - 완료 기준: 타입 중복 제거
- Phase 4: 캐시 유틸 확장
  - detail 캐시 업데이트 헬퍼 추가
  - 관련 사용부 교체
  - 완료 기준: setQueryData 중복 감소

## 리스크 및 대응
- i18n 키 변경으로 번역 누락 가능
  - 대응: 변경 후 화면별 확인
- 타입 분리로 import 경로 변경 실수 가능
  - 대응: 컴파일 단계 확인

## 검증 계획
- DEV 환경에서 __lab 페이지 접근 확인
- 주요 화면 텍스트 정상 표시 확인
- EntryCard/ThreadEditor 동작 확인
- detail 캐시 업데이트 반영 확인
